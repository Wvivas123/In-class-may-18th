<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Hot Restaurant</title>
    <!-- Bootstrap CSS CDN  -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <!-- Font Awesome CSS Icons (For cool glyphicons) -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <!-- Style to fix the issue of text extending past card length -->
    <style>
        .card-body a {
            word-break: break-all;
        }

        .articleHeadline {
            line-height: 1.5;
        }

        .butt {
            text-align: center;
        }

        h1,
        h2 {
            color: black;
            text-align: center;
        }

        #run-search {
            background-color: blue;
            color: white;
        }

        #clear-all {
            background-color: red;
            color: white;
        }

        .label-primary {
            background-color: blue;
        }

        .label {
            display: inline;
            padding: .2em .6em .3em;
            font-size: 75%;
            font-weight: 700;
            line-height: 1;
            color: #fff;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            border-radius: .25em;
        }

        a {
            color: white;
        }
    </style>
    <script>
        var customersAtTables = [];
        var customersWaiting = [];

        $.get("/api/tables", function (data) {
            console.log(data);

            for (let i = 0; i < data.length; i++) {
                const element = data[i];

                if (data) {
                    let person = $("<div>");
                    person.addClass("well");
                    person.attr( "id", ("tableWell-0" + (i + 1)));
                    let personnumb = $('<h3><span class="label label-primary">' + (i + 1) + '</span>' + (' | ' + data[i].unique) + '</h3>');

                    personnumb.appendTo(person);
                    person.appendTo("#reserved");

                }
            }
        });


        $.get("/api/waitlist", function (data) {
            console.log(data);

            for (let i = 0; i < data.length; i++) {
                const element = data[i];

                if (data) {
                    let person = $("<div>");
                    person.addClass("well");
                    person.attr( "id", ("tableWell-0" + (i + 1)));
                    let personnumb = $('<h3><span class="label label-primary">' + (i + 1) + '</span>' + (' | ' + data[i].unique) + '</h3>');

                    personnumb.appendTo(person);
                    person.appendTo("#waiting");

                }
            }
        });

    </script>
</head>

<body>

    <!-- Main Bootstrap Search -->
    <div class="container">

        <div class="jumbotron">
            <h1><i class="fas fa-fire"></i> Hot Restaurant</strong></h1>

            <h2 class="text-center">Make your reservation</h2>
            <br>
            <!-- Here we have our final submit button -->
            <div class="butt">
                <button type="submit" class="btn btn-default" id="run-search">
                    <a href="/reserve"><i class="fas fa-clipboard-list"></i> Reservations</button></a>
                <button class="btn btn-default" id="clear-all">
                    <a href="/"><i class="fas fa-home"></i></button></a>
            </div>

        </div>

        <!-- Main Bootstrap Search -->
        <div class="container">

            <!-- Jumbotron for Title -->


            <!-- Row for Searching New York Times -->
            <div class="row">
                <div class="col-sm-12">
                    <br>
                    <!-- First card is for handling the search parameters -->
                    <div class="card" id="reserved">
                        <div class="card-header">
                            </i> Current Reservations
                        </div>
                    </div>
                </div>
            </div>

            <!-- This row will handle all of the retrieved articles -->
            <div class="row">
                <div class="col-sm-12">
                    <br>
                    <div class="card" id="waiting">
                        <div class="card-header">
                            </i>Waiting List
                        </div>

                    </div>

                    <!-- Footer Region -->
                    <div class="row">
                        <div class="col-sm-12">

                            <!-- Line Break followed by closing -->
                            <hr>
                            <h5 class="text-center">

                            </h5>

                        </div>
                    </div>

                </div>

</body>

</html>